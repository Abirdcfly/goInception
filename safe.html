<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[Safe] User authentication | goInception Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="goInception extension of the usage of Inception, to specify the remote server by adding annotations before the SQL review, and for distinguishing SQL and review adding special comments at the beginning and the end of SQL.">
    
    <link rel="preload" href="/goInception/assets/css/0.styles.05c6df5e.css" as="style"><link rel="preload" href="/goInception/assets/js/app.a20724fc.js" as="script"><link rel="preload" href="/goInception/assets/js/3.a468a5ac.js" as="script"><link rel="preload" href="/goInception/assets/js/33.2b4e8338.js" as="script"><link rel="prefetch" href="/goInception/assets/js/10.19da06bd.js"><link rel="prefetch" href="/goInception/assets/js/11.d08544ca.js"><link rel="prefetch" href="/goInception/assets/js/12.c0781d48.js"><link rel="prefetch" href="/goInception/assets/js/13.a0bd15c2.js"><link rel="prefetch" href="/goInception/assets/js/14.c49bd246.js"><link rel="prefetch" href="/goInception/assets/js/15.a0eed70d.js"><link rel="prefetch" href="/goInception/assets/js/16.a6c0de62.js"><link rel="prefetch" href="/goInception/assets/js/17.9e6a1a5c.js"><link rel="prefetch" href="/goInception/assets/js/18.1259a7b5.js"><link rel="prefetch" href="/goInception/assets/js/19.7972acb6.js"><link rel="prefetch" href="/goInception/assets/js/20.21a5c394.js"><link rel="prefetch" href="/goInception/assets/js/21.673611fe.js"><link rel="prefetch" href="/goInception/assets/js/22.578a7a9b.js"><link rel="prefetch" href="/goInception/assets/js/23.b2313c7a.js"><link rel="prefetch" href="/goInception/assets/js/24.f9fc20d1.js"><link rel="prefetch" href="/goInception/assets/js/25.ef383f56.js"><link rel="prefetch" href="/goInception/assets/js/26.175197c9.js"><link rel="prefetch" href="/goInception/assets/js/27.35608ea1.js"><link rel="prefetch" href="/goInception/assets/js/28.08808dd6.js"><link rel="prefetch" href="/goInception/assets/js/29.f12de32d.js"><link rel="prefetch" href="/goInception/assets/js/30.6b246f51.js"><link rel="prefetch" href="/goInception/assets/js/31.3bf72658.js"><link rel="prefetch" href="/goInception/assets/js/32.e32d7d22.js"><link rel="prefetch" href="/goInception/assets/js/34.bd66eb0b.js"><link rel="prefetch" href="/goInception/assets/js/35.3bc13b97.js"><link rel="prefetch" href="/goInception/assets/js/36.257542e7.js"><link rel="prefetch" href="/goInception/assets/js/37.338883fa.js"><link rel="prefetch" href="/goInception/assets/js/38.e0bce5da.js"><link rel="prefetch" href="/goInception/assets/js/39.f03db3c9.js"><link rel="prefetch" href="/goInception/assets/js/4.bb26a86d.js"><link rel="prefetch" href="/goInception/assets/js/40.17455fa1.js"><link rel="prefetch" href="/goInception/assets/js/41.19961648.js"><link rel="prefetch" href="/goInception/assets/js/42.d4226800.js"><link rel="prefetch" href="/goInception/assets/js/43.e30bc9ac.js"><link rel="prefetch" href="/goInception/assets/js/44.3692312f.js"><link rel="prefetch" href="/goInception/assets/js/45.ce8e301c.js"><link rel="prefetch" href="/goInception/assets/js/46.02ea3da6.js"><link rel="prefetch" href="/goInception/assets/js/47.4521f464.js"><link rel="prefetch" href="/goInception/assets/js/48.fd5ad4ae.js"><link rel="prefetch" href="/goInception/assets/js/49.b5bc715a.js"><link rel="prefetch" href="/goInception/assets/js/5.f150c124.js"><link rel="prefetch" href="/goInception/assets/js/50.843981be.js"><link rel="prefetch" href="/goInception/assets/js/51.065f41c7.js"><link rel="prefetch" href="/goInception/assets/js/52.4c0f0c83.js"><link rel="prefetch" href="/goInception/assets/js/6.f4bec081.js"><link rel="prefetch" href="/goInception/assets/js/7.d744fe65.js"><link rel="prefetch" href="/goInception/assets/js/8.97cfe583.js"><link rel="prefetch" href="/goInception/assets/js/9.24d1e1b9.js"><link rel="prefetch" href="/goInception/assets/js/vendors~docsearch.6cb0424f.js">
    <link rel="stylesheet" href="/goInception/assets/css/0.styles.05c6df5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/goInception/" class="home-link router-link-active"><!----> <span class="site-name">goInception Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/safe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/safe.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/safe.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/safe.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/goInception/" aria-current="page" class="sidebar-link">Introdunction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Start</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/install.html" class="sidebar-link">Install</a></li><li><a href="/goInception/params.html" class="sidebar-link">Params</a></li><li><a href="/goInception/demo.html" class="sidebar-link">Demo</a></li><li><a href="/goInception/result.html" class="sidebar-link">Result Desc</a></li><li><a href="/goInception/config.html" class="sidebar-link">config.toml Desc</a></li><li><a href="/goInception/permission.html" class="sidebar-link">Permission Desc</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Config</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/options.html" class="sidebar-link">Options</a></li><li><a href="/goInception/rules.html" class="sidebar-link">Rules</a></li><li><a href="/goInception/backup.html" class="sidebar-link">Backup</a></li><li><a href="/goInception/osc.html" class="sidebar-link">Online-DDL: pt-osc</a></li><li><a href="/goInception/ghost.html" class="sidebar-link">Online-DDL: gh-ost</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/levels.html" class="sidebar-link">Custom audit level</a></li><li><a href="/goInception/kill_stmt.html" class="sidebar-link">Kill Operation</a></li><li><a href="/goInception/statistics.html" class="sidebar-link">Statistics</a></li><li><a href="/goInception/tree.html" class="sidebar-link">Syntax tree</a></li><li><a href="/goInception/trans.html" class="sidebar-link">Transaction</a></li><li><a href="/goInception/safe.html" aria-current="page" class="active sidebar-link">[Safe] User authentication</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/goInception/diff.html" class="sidebar-link">VS Inception</a></li></ul></section></li><li><a href="/goInception/support.html" class="sidebar-link">Support</a></li><li><a href="/goInception/changelog.html" class="sidebar-link">Changelog</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="safe-user-authentication"><a href="#safe-user-authentication" class="header-anchor">#</a> [Safe] User authentication</h1> <h3 id="desc"><a href="#desc" class="header-anchor">#</a> Desc</h3> <p>Goinception itself is based on TiDB, so it has a complete user management module. For ease of use, this function is turned off by default.</p> <p><strong>Open authentication method:</strong></p> <p>Add the following parameters in the <strong>config.toml</strong> configuration file (file root node or [inc] node)</p> <div class="language- extra-class"><pre class="language-text"><code>skip_grant_table = false
</code></pre></div><p>The supported syntax is as follows:</p> <ul><li>CREATE USER</li> <li>DROP USER</li> <li>ALTER USER</li> <li>SET PASSWORD FOR</li> <li>GRANK/REVOKE <code>May not be used</code></li> <li>SELECT * FROM MYSQL.USER <code>Query user list</code></li></ul> <p><code>The default initial user is root, and the password is empty</code></p> <p>If you forget the password, you can restart it by skipping authentication. After changing the password, turn on authentication and restart goinception (this method is similar to MySQL).</p> <p><strong>Note</strong>: The data directory (default is <code>/tmp/tidb</code>) may be damaged during abnormal shutdown. At this time, you need to delete the directory and restart, but the created users will be lost, so please pay attention to back up the directory or save the user creation script.</p> <p>This function is the only one that needs attention to save the data directory, and no other functions are needed.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hanchuanchuan/goInception/edit/master/docs/safe.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/8/2021, 11:21:11 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/goInception/trans.html" class="prev">
        Transaction
      </a></span> <span class="next"><a href="/goInception/diff.html">
        VS Inception
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/goInception/assets/js/app.a20724fc.js" defer></script><script src="/goInception/assets/js/3.a468a5ac.js" defer></script><script src="/goInception/assets/js/33.2b4e8338.js" defer></script>
  </body>
</html>
